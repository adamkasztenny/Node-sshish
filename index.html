<html>
    <head>
        <title> node-ssh-ish </title>
        <!-- Excuse my horrible style of embedding CSS + JS in HTML -->
        <style>
            body {
                background-color: black;
                color: white;
                font-family: monospace, fixed-width;
            }
        </style>

        <!-- Thanks to http://code.jquery.com/ -->
        <script src="http://code.jquery.com/jquery-2.2.3.min.js" integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo=" crossorigin="anonymous">
        </script>
        
        <script>
            $(document).ready(function() {
                var user;

                $('#submitName').click(function() {
                    $.ajax({
                        method: 'POST',
                        url: '/signup/' + $('#user').val()}).done(function(data){
                        user = $('#user').val();
                        $('#console').append('<p>' + JSON.stringify(data) + '</p>');
                        $('#signup').hide();
                        $('#type').show();
                    });
                });

                $('#submitCommand').click(function() {
                    $.ajax({
                        method: 'POST',
                        url: '/bash/' + user + '/' + $('#command').val()}).done(function(data){
                        var display = data.replace(/\n/g, '<br />');
                        $('#console').append('<p>' + display + '</p>');
                    });
                });
            });
        </script>
    </head>
    <body>
        
        <div id="console">
        </div>

        <div id="signup"> 
            Enter your name: <input type="text" id="user" />
            <button id="submitName">Start fake SSH session </button>
        </div>

        <div id="type" hidden> 
            $ <input type="text" id="command" />
            <button id="submitCommand">Enter</button>
        </div>

   </body>
</html> 
